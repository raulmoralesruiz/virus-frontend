<div class="attachments">
  @for (a of attachedCards(); track a.id) {
  @if (contagionMode() && isVirus(a) && !isTemporaryVirus(a.id)) {
  <!-- Virus arrastrable en modo contagio (solo los reales, no temporales) -->
  <div class="attached-card chip virus {{ a.color }}" cdkDrag
    [cdkDragData]="{ fromOrganId: organ().id, virusId: a.id, virus: a }" (cdkDragStarted)="onDragStarted.emit(a)"
    (cdkDragEnded)="onDragEnded.emit()">
    <card-icon class="icon" [name]="getVirusIcon()" />
  </div>
  } @else {
  <!-- Cualquier otra carta (virus temporal, estÃ¡tico o medicina) -->
  <div class="attached-card chip {{ a.kind }} {{ a.color }}"
    [class.temporary-virus]="isVirus(a) && isTemporaryVirus(a.id)">
    @if (isVirus(a)) {
    <card-icon class="icon" [name]="getVirusIcon()" />
    } @else {
    <card-icon class="icon" [name]="getMedicineIcon()" />
    }
  </div>
  }
  }
</div>