<div class="card organ {{ organ.color }}">
  @if (organ.attached.length === 0) {
  <div class="title">{{ organIcon() }}</div>
  }
  @if (getAllAttachedCards().length) {
  <div class="attachments">
    @for (a of getAllAttachedCards(); track a.id) {
      @if (contagionMode && isVirus(a) && !isTemporaryVirus(a.id)) {
      <!-- Virus arrastrable en modo contagio (solo los reales, no temporales) -->
      <div
        class="attached-card chip virus {{ a.color }}"
        cdkDrag
        [cdkDragData]="{ fromOrganId: organ.id, virusId: a.id }"
      >
        <span class="icon">ðŸ¦ </span>
      </div>
      } @else {
      <!-- Cualquier otra carta (virus temporal, estÃ¡tico o medicina) -->
      <div
        class="attached-card chip {{ a.kind }} {{ a.color }}"
        [class.temporary-virus]="isVirus(a) && isTemporaryVirus(a.id)"
      >
        @if (isVirus(a)) {
        <span class="icon">ðŸ¦ </span>
        } @else {
        <span class="icon">ðŸ’Š</span>
        }
      </div>
      }
    }
  </div>
  }
</div>
