<div class="player-board" [class.is-me]="isMe()" [class.is-active]="isActive()">
  <div class="player-header">
    <strong>{{ player().player.name }}</strong>
    <!-- <span class="handcount">{{ player().handCount }} en mano</span> -->
  </div>

  <div class="board-grid">
    @for (color of cardColors; track color) { @let organ =
    getOrganByColor(color);
    <div
      class="board-slot"
      [id]="'slot-' + player().player.id + '-' + color"
      cdkDropList
      [cdkDropListData]="organ ? [organ] : []"
      [cdkDropListConnectedTo]="getConnectedIdsForSlot(color)"
      (cdkDropListDropped)="onDrop($event, color, organ!)"
      (cdkDropListEntered)="onEnterBoard($event)"
      (click)="onSlotClick(organ, player().player.id)"
      [class.transplant-mode]="transplantState()"
    >
      @if (organ) {
      <player-card
        [organ]="organ"
        [contagionMode]="contagionState()! && isMe()"
        [temporaryViruses]="
          getTemporaryVirusesForOrgan()(organ.id, player().player.id)
        "
      ></player-card>
      } @else {
      <div class="slot-empty {{ color }}">{{ color | titlecase }}</div>
      }
    </div>
    }
  </div>
</div>
