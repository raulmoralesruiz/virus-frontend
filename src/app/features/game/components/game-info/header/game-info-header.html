<div class="game-info__header">
  <div class="game-info__title">
    <h2>
      <span>#{{ roomId() }}</span>
      <span class="game-info__details-arrow" aria-hidden="true">
        {{ showDetails() ? "â–²" : "â–¼" }}
      </span>
    </h2>
  </div>

  @if (topDiscard(); as card) {
  <div class="discard-preview" [style.background-color]="discardBackgroundColor"
    [attr.aria-label]="'Ãšltima carta: ' + card.id + '. Total descartes: ' + discardCount()">
    @if (colorThiefColor) {
    <svg class="discard-icon-svg" viewBox="0 0 279.9 300" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <clipPath id="preview-clip-1">
          <rect x="0" y="0" transform="scale(0.14647,0.14648)" width="1911" height="2048" fill="none" />
        </clipPath>
      </defs>
      <g clip-path="url(#preview-clip-1)" fill="none" fill-rule="nonzero" stroke="none" stroke-width="1"
        stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" style="mix-blend-mode: normal">
        <path id="fondo" d="M0,0h279.90698v300h-279.90698z" fill="none" />
        <path id="borde"
          d="M127.21413,10.01848c13.01414,-1.32614 23.42006,4.97347 32.25961,13.7804c5.25247,-5.09546 10.78469,-11.48235 18.30747,-12.37156c6.8285,-0.66658 18.03796,-1.34125 24.49296,1.1488c11.59761,4.47393 22.43503,17.17632 23.82212,29.70718c1.05167,9.50449 -0.80266,18.80376 -5.89401,26.82554c-2.51931,3.96987 -5.71092,7.40347 -8.44115,11.03555c3.48602,3.20552 6.89148,6.49819 10.21199,9.87495c8.36792,8.60859 19.32838,25.72119 21.63969,37.56504c1.3534,7.34766 1.07803,14.97334 1.14541,22.3834c0.09228,10.4165 -1.6478,17.21338 -6.07417,26.47266c-4.1261,8.72754 -9.52065,16.79736 -16.0064,23.94727c-3.99574,4.41211 -9.01239,9.14355 -13.32744,13.34033c2.42996,5.65869 9.35074,16.56006 2.14141,21.60352c-0.99454,0.68555 -2.1297,1.14258 -3.32051,1.34033c-3.69694,0.64307 -18.43636,-0.05273 -22.38377,-0.74707c1.41931,6.90088 1.57457,17.85059 0.22557,24.78369c-1.44567,7.30518 -6.57803,15.83496 -13.05647,19.87939c-9.52065,5.67188 -21.59868,5.79053 -32.42087,6.17432c-18.11339,0.64014 -36.5108,0.56396 -54.63151,0.02783c-4.3877,-0.12891 -8.92084,-0.14502 -13.20308,-1.17041c-8.83282,-2.11523 -17.65172,-6.63574 -22.76181,-14.40088c-6.11167,-9.43506 -5.62773,-25.62598 -3.28565,-36.28564c3.59558,-16.36523 13.08942,-29.09326 27.09283,-38.09619c4.43852,-2.62061 11.04292,-6.05566 15.96729,-7.42822c-7.89305,-9.14648 -12.95233,-19.5 -14.24025,-31.54248c-2.48445,-23.23052 10.60175,-44.32954 34.92773,-47.11934c24.153,-2.76987 43.57702,11.83784 46.32629,36.12275c1.76352,15.57861 -4.74275,30.79102 -14.35977,42.71631c1.62993,0.52295 3.19044,1.23779 4.78639,1.84424c4.60506,1.74756 7.83476,2.90332 11.89934,5.83008c2.97337,-6.31934 6.48283,-12.64746 10.12557,-18.59766c9.14861,-14.9458 18.50374,-3.35742 24.4124,6.82764c10.9839,-9.47021 21.8389,-21.58447 19.46899,-37.33447c-2.02424,-13.45474 -11.75873,-24.06519 -21.77591,-32.49639c-2.23515,-1.88159 -4.53476,-4.24863 -6.84168,-5.96221c-4.2799,4.46982 -8.99188,9.07734 -13.56912,13.22095c-1.88509,1.70669 -5.08695,5.0165 -7.18003,6.41206c-0.88029,0.57876 -1.88509,0.94277 -2.93382,1.06274c-2.23808,0.25591 -4.76472,-0.24946 -6.46818,-1.75195c-2.35526,-2.07627 -4.73103,-4.41724 -7.05407,-6.50479c-8.4016,-7.50791 -16.5003,-15.34849 -24.27633,-23.50298c-7.9203,-8.36748 -20.19226,-21.68877 -25.63309,-31.60562c-2.80888,-5.04785 -4.53066,-10.62759 -5.05444,-16.38062c-0.50694,-5.01416 0.36149,-10.72427 2.11622,-15.43418c4.9065,-13.16968 18.82964,-23.83991 32.82426,-25.19432z" />
        <path id="cuerpo"
          d="M95.42602,195.9126c3.26368,-0.19043 7.29106,2.73926 10.38922,3.73682c6.55445,2.10938 13.33681,1.95557 19.90708,0.01318c4.73967,-1.40039 8.10207,-4.74756 13.30444,-3.15234c2.84418,0.7749 6.10259,2.23096 8.80103,3.24023c8.9582,3.3501 8.56126,5.23682 5.04887,13.32715c-1.46471,3.37207 -3.4289,9.5332 -3.29707,13.22754c2.47244,4.23047 12.30946,6.4043 17.07125,6.85693c8.20387,0.7793 11.97404,-1.01514 12.53356,9.49365c0.5478,10.28467 0.95939,19.60254 -6.32464,28.06494c-6.11665,7.10596 -16.81346,7.7666 -25.61932,8.31885c-17.50583,0.72803 -35.03026,0.90381 -52.54708,0.52734c-12.2519,-0.32812 -24.40317,0.44385 -34.5059,-8.0376c-5.37287,-4.50879 -7.00207,-10.30664 -7.47473,-17.08154c-1.02222,-14.6499 2.8499,-29.39209 12.57575,-40.61426c6.00123,-6.97998 13.32026,-11.79639 21.7245,-15.36328c2.99725,-1.27148 5.12079,-2.3291 8.41303,-2.55762z"
          fill="#000" />
        <path id="corazon"
          d="M128.28616,17.48979c0.80486,-0.08818 1.7745,-0.1106 2.5842,-0.08511c13.10846,0.41367 20.20471,8.52817 28.42323,17.08784c5.05473,-4.47993 11.1538,-12.17095 17.14449,-14.98213c1.81039,-0.84946 6.09468,-1.07944 8.25513,-1.11167c11.61372,-0.17271 16.54688,-0.13081 25.34396,8.37144c5.65673,5.60918 8.83369,12.3813 8.91279,20.37319c0.11278,11.52129 -5.04741,18.49146 -11.90081,26.86304c-7.46272,8.99194 -15.31066,17.65649 -23.52332,25.96919c-8.1526,8.24634 -15.4337,15.39243 -24.01839,23.20342c-4.99468,-4.53354 -10.24568,-9.2064 -15.12845,-13.83398c-9.93911,-9.38672 -19.38726,-19.27998 -28.30678,-29.64038c-7.47019,-8.77485 -14.85924,-17.28809 -16.26639,-29.15039c-1.96902,-16.59741 12.61368,-31.48418 28.48035,-33.06445z"
          [style.fill]="colorThiefColor" />
        <path id="cabeza"
          d="M115.17711,117.98291c7.46873,-0.46948 16.82957,2.20342 22.44353,7.12383c18.6278,16.32686 13.0531,43.01191 -1.24193,59.94258c-5.26272,6.23291 -10.91491,10.09863 -19.17224,10.77393c-7.5714,0.24902 -13.61291,-3.63867 -19.06194,-8.62939c-15.88468,-14.55322 -21.95139,-42.15762 -6.59839,-59.30669c6.31424,-7.05293 14.3917,-9.50376 23.63097,-9.90425z"
          fill="#000" />
        <path id="flecha"
          d="M206.66392,85.77744c0.42037,0.2061 8.67843,8.15391 9.51332,9.06021c8.04861,8.73208 17.4843,22.55947 20.09003,34.28979c1.16152,5.22729 0.9257,14.38564 0.98282,19.83545c0.03808,3.77051 -0.28415,8.98682 -1.01358,12.70313c-0.84514,4.31396 -2.69361,7.87061 -4.46592,11.7583c-7.48762,16.42236 -19.0325,26.521 -31.67006,38.75684c2.40653,4.99072 6.58389,11.79932 7.13755,17.09912c-6.15766,1.14697 -45.98765,-2.67187 -51.14784,-4.98779c0.07763,-1.17334 0.27097,-1.86182 0.58149,-2.98535c2.7478,-7.8999 16.34768,-37.34912 21.86673,-42.33984c5.63622,2.85938 9.40054,15.27979 14.57538,14.98828c5.5044,-1.24512 12.92318,-9.76465 16.26859,-13.47363c18.70441,-20.72607 12.76792,-46.28159 -6.18403,-64.18301c-4.54354,-4.29082 -9.37271,-8.40923 -14.0847,-12.54814c1.76205,-2.0165 4.28429,-4.44155 6.18988,-6.38042z"
          fill="#000" />
      </g>
    </svg>
    } @else if (subtypeImagePath || generalImagePath) {
    <img class="discard-icon-img" [src]="subtypeImagePath || generalImagePath" alt="" draggable="false" />
    } @else {
    <span class="discard-icon">{{ topDiscardIcon }}</span>
    }
    <span class="discard-count">{{ discardCount() }}</span>
  </div>
  } @else {
  <div class="discard-preview discard-preview--empty" aria-label="Pila de descartes vacÃ­a">
    <span class="discard-icon">âˆ…</span>
    <span class="discard-count">0</span>
  </div>
  }
  <div class="game-info__actions">
    <button type="button" class="history-toggle" (click)="onHistoryClick($event)">
      ðŸ“„ @if (historyCount()) {
      <span class="history-badge">{{ historyCount() }}</span>
      }
    </button>
  </div>
</div>