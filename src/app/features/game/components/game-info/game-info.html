<div
  class="game-info"
  [class.game-info--expanded]="showDetails"
  (click)="toggleDetails()"
  (keydown)="onKeyDown($event)"
  role="button"
  tabindex="0"
  [attr.aria-expanded]="showDetails"
>
  <game-info-header
    [roomId]="shortRoomId"
    [showDetails]="showDetails"
    [historyCount]="historyCount"
    (historyRequested)="requestHistory()"
  ></game-info-header>

  @if (showDetails) {
  <game-info-details
    [state]="state"
    [gameDuration]="gameDuration"
    [isMuted]="isMuted"
    [isDarkTheme]="isDarkTheme"
    [isFullscreenActive]="isFullscreenActive"
    (leaveRequested)="requestLeave()"
    (muteToggled)="toggleMute()"
    (themeToggled)="toggleTheme()"
    (fullscreenToggled)="toggleFullscreen()"
  ></game-info-details>
  }
</div>
