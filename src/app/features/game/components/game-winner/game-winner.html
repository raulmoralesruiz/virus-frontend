@if (isVisible) {
@let winnerValue = winner();
<div class="winner-overlay" (click)="closeModal()">
  <div
    class="winner-modal"
    role="dialog"
    aria-modal="true"
    aria-labelledby="winner-title"
    aria-describedby="winner-description"
    (click)="$event.stopPropagation()"
  >
    <button
      type="button"
      class="winner-close"
      aria-label="Cerrar aviso de ganador"
      (click)="closeModal()"
    >
      âœ•
    </button>

    <div class="winner-content">
      <h2 id="winner-title" class="winner-heading">ğŸ† Â¡Ganador!</h2>
      <p id="winner-description" class="winner-message">
        <strong>{{ winnerValue?.player?.name }}</strong> ha completado su cuerpo.
      </p>

      <div class="winner-actions" aria-label="Acciones posteriores a la victoria">
        @if (canReset()) {
          <button
            type="button"
            class="winner-reset"
            aria-label="Reiniciar partida"
            (click)="onReset()"
          >
            <svg
              focusable="false"
              aria-hidden="true"
              viewBox="0 0 24 24"
              class="winner-reset__icon"
            >
              <path
                d="M12 5V1L7 6l5 5V7c3.08 0 5.5 2.42 5.5 5.5C17.5 15.58 15.08 18 12 18s-5.5-2.42-5.5-5.5H4C4 16.76 7.24 20 12 20s8-3.24 8-7.5S16.76 5 12 5z"
              />
            </svg>
          </button>
        }
        <button type="button" class="winner-leave" (click)="onLeave()" aria-label="Salir a la lista de salas">
          <svg
            focusable="false"
            aria-hidden="true"
            viewBox="0 0 24 24"
            class="winner-leave__icon"
          >
            <path d="M17 6l-1.41 1.41L17.17 9H9v2h8.17l-1.58 1.59L17 14l4-4-4-4z" />
            <path d="M5 5h7V3H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h7v-2H5V5z" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
}
