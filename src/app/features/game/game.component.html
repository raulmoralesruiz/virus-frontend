<div class="game-layout">
  <!-- Winner -->
  @if (winner(); as w) {
  <game-winner [winner]="w" (reset)="resetGame()"></game-winner>
  }

  <!-- Información de la partida -->
  @if (publicState(); as st) {
  <game-info [state]="st"></game-info>

  <!-- Tablero de la partida -->
  <game-board [state]="st"></game-board>

  <!-- Mano del jugador -->
  <game-hand
    [hand]="hand()"
    [isMyTurn]="isMyTurn()"
    [roomId]="roomId"
    [publicState]="st"
    [gameEnded]="isGameEnded()"
  ></game-hand>
  }
  <!-- Home -->
  @else {
  <div class="game-empty">
    <h2>¿Partida finalizada?</h2>
    <p>
      Puedes regresar a la pantalla principal para crear o unirte a otra sala.
    </p>
    <button class="cta-button" (click)="goHome()">Empezar de nuevo</button>
  </div>
  }

  <!-- Errores -->
  <game-error [error]="lastError()"></game-error>
</div>
