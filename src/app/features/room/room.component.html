<div class="room-screen">
  @if (room()) {
  <div class="room-panel">
    <app-room-top [room]="room" (leaveRoom)="leaveRoom()" />

    <app-room-players [room]="room" />

    <app-room-config [canEditConfig]="canEditConfig()" [room]="room" />

    @if (isHost()) {
    <button class="cta-button" (click)="startGame()" [disabled]="!isHost() || isIncorrectNumberPlayers()">
      Iniciar partida
    </button>
    } @else {
    <p class="waiting-copy">Espera a que el anfitrión inicie la partida.</p>
    }
  </div>
  } @else {
  <div class="room-panel">
    <h2>No estás en ninguna sala</h2>
    <p class="subtitle">Regresa al inicio para crear o unirte a una partida.</p>
    <button class="cta-button" (click)="goHome()">Empezar de nuevo</button>
  </div>
  } @if (confirmingLeave) {
  <app-room-exit (cancelLeave)="cancelLeave()" (confirmLeave)="confirmLeave()" />
  } @if (!player()) {
  <app-room-enter [roomId]="roomId" />
  }
</div>