html.theme-dark {
  color-scheme: dark;
  --color-bg-body: #030712;
  --color-bg-main: #030712;
  --color-bg-main-alt: #050a1a;
  --color-surface: #0f172a;
  --color-surface-soft: #111e36;
  --color-text-primary: #e2e8f0;
  --color-text-secondary: #a5b4cf;
  --color-text-muted: #8a9ab9;
  --color-text-inverted: #020617;
  --color-overlay: rgba(3, 6, 17, 0.75);
  --color-primary: #38bdf8;
  --color-primary-hover: #0ea5e9;
  --color-primary-contrast: #02131f;
  --color-muted-button-bg: rgba(226, 232, 240, 0.3);
  --color-muted-button-hover: rgba(226, 232, 240, 0.12);
  --color-muted-button-active: rgba(226, 232, 240, 0.2);
  --color-danger: #fb7185;
  --color-danger-strong: #fecdd3;
  --color-danger-soft: rgba(251, 113, 133, 0.22);
  --color-danger-soft-hover: rgba(251, 113, 133, 0.35);
  --color-warning: #fb923c;
  --color-success: #34d399;
  --color-success-contrast: #041016;
  --color-success-disabled: rgba(52, 211, 153, 0.35);
  --color-victory-background: rgba(251, 191, 36, 0.18);
  --color-victory-text: #fde68a;
  --color-hand-panel-background: rgba(14, 165, 233, 0.4);
  --color-error-background: rgba(239, 68, 68, 0.2);
  --color-error-text: #fecaca;
  --color-player-me-background: rgba(14, 165, 233, 0.28);
  --color-player-me-text: #cffafe;
  --color-player-active-border: transparent;
  --color-player-active-background: rgba(202, 138, 4, 0.28);
  --color-player-active-text: #fde68a;
  --color-info-bg: rgba(14, 165, 233, 0.4);
  --color-info-bg-expanded: rgba(14, 165, 233, 0.2);
  --section-turn-background: rgba(202, 138, 4, 0.22);
  --section-feed-background: rgba(15, 23, 42, 0.95);
  --color-focus-ring: rgba(56, 189, 248, 0.45);
  --color-panel-glass: rgba(15, 23, 42, 0.9);
  --color-bg-secondary: #223253;
  --color-bg-secondary-hover: #2c3f68;
  --color-text-on-secondary: #f8fafc;
  --color-bg-tertiary: #101a2e;
  --color-text-on-tertiary: #f8fafc;

  /* Danger / Error Actions */
  --color-danger-dark: #f87171;
  --color-danger-contrast-text: #2a0a0a;
  --color-danger-hover: #ef4444;

  /* Brand / Room UI */
  --color-room-overlay-bg: rgba(15, 23, 42, 0.94);
  --color-room-item-bg: rgba(30, 41, 59, 0.9);
  --color-room-item-occupied: rgba(59, 130, 246, 0.2);
  --color-room-count-text: #93c5fd;

  /* Logo & Gradients */
  --gradient-logo-warm: #facc15;
  --gradient-logo-cool: #8b5cf6;
  --gradient-logo-main: rgba(79, 70, 229, 0.9);

  /* Component Specifics */
  --color-slider-track: rgba(248, 250, 252, 0.2);
  --shadow-slider: 0 6px 16px rgba(0, 0, 0, 0.4);
  --color-input-bg: rgba(15, 23, 42, 0.95);
  --color-input-border: rgba(248, 250, 252, 0.1);
  --color-surface-glass: rgba(15, 23, 42, 0.5);
  --color-divider-weak: rgba(148, 163, 184, 0.45);
  --color-button-danger-glass: rgba(239, 68, 68, 0.9);
  --color-button-danger-glass-hover: rgba(239, 68, 68, 0.96);
  --shadow-selection: 0 8px 18px rgba(0, 0, 0, 0.4);

  /* Game / Logo / Fields */
  --color-logo-stroke: rgba(15, 23, 42, 0.5);
  --color-button-glass-hover: rgba(255, 255, 255, 0.08);
  --color-primary-glass-hover: rgba(56, 189, 248, 0.9);
  --color-field-player-bg: rgba(37, 99, 235, 0.15);
  --color-field-player-icon-bg: rgba(37, 99, 235, 0.25);
  --color-field-player-active-bg: rgba(37, 99, 235, 0.25);
  --color-field-player-active-icon-bg: rgba(37, 99, 235, 0.4);
  --color-field-organs-bg: rgba(244, 114, 182, 0.15);
  --color-field-organs-icon-bg: rgba(244, 114, 182, 0.25);
  --color-field-organs-active-bg: rgba(244, 114, 182, 0.25);
  --color-field-organs-active-icon-bg: rgba(244, 114, 182, 0.4);
  --color-field-organs-active-icon: #fce7f3;
  --color-field-empty-bg: rgba(148, 163, 184, 0.14);
  --gradient-red: #f87171;
  --gradient-green: #4ade80;
  --gradient-blue: #60a5fa;
  --gradient-yellow: #facc15;
  /* --gradient-multi kept as gradient for exceptions, or replaced if not used in exceptions? */
  --gradient-multi: linear-gradient(135deg, #f87171 0%, #facc15 33%, #60a5fa 66%, #34d399 100%);
  --color-dot-neutral: rgba(148, 163, 184, 0.4);
  --color-card-border-playing: #ffffff;
  --color-card-selected-glow: rgba(0, 0, 0, 0.8);
  --color-input-bg-soft: #223253;
  --color-input-bg-focus: rgba(24, 96, 128, 0.95);
  --color-btn-primary-bg: var(--color-primary);
  --color-btn-primary-bg-hover: var(--color-primary-hover);
  --color-danger-active-turn: #aa4a44;

  /* Misc / Patterns */
  --color-pattern-dark-subtle: rgba(15, 23, 42, 0.3);
  --color-button-neutral-glass: rgba(30, 41, 59, 0.9);
  --color-button-neutral-glass-hover: rgba(30, 41, 59, 0.96);
  --shadow-banner: 0 4px 12px rgba(0, 0, 0, 0.5);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --drop-shadow-sm: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.5));
  --color-discard-pile-bg: #1e293b;
  --color-border-glass-light: rgba(255, 255, 255, 0.1);
  --gradient-greeting: #14b8a6;

  /* Batch 4: Fields / Layout / Scrollbars */
  --color-hover-overlay-strong: rgba(255, 255, 255, 0.08);
  /* Light hover overlay for dark mode */
  --color-field-base-bg: rgba(148, 163, 184, 0.1);
  --color-field-icon-neutral: rgba(148, 163, 184, 0.2);
  --color-field-border-subtle: rgba(148, 163, 184, 0.2);
  --color-player-hover-bg: rgba(37, 99, 235, 0.2);
  --color-player-active-border: rgba(37, 99, 235, 0.5);
  /* Batch 5: Player Board / Drag & Drop */
  --color-drag-preview-bg: rgba(15, 23, 42, 0.95);
  --color-placeholder-bg: rgba(148, 163, 184, 0.1);
  --shadow-valid-target: 0 0 0 2px rgba(34, 197, 94, 0.6);
  --color-valid-target-bg: rgba(34, 197, 94, 0.15);
  --shadow-drag-over: 0 0 0 2px rgba(255, 255, 255, 0.9);
  --color-drag-over-bg: rgba(255, 255, 255, 0.1);
  --color-overlay-white-weak: rgba(255, 255, 255, 0.1);
  --color-attachments-bg: rgba(255, 255, 255, 0.05);
  --color-board-wrapper-bg: rgba(248, 250, 252, 0.08);
  /* Dark mode specific wrapper */

  --color-header-active-bg: rgba(251, 191, 36, 0.18);
  --color-header-me-bg: rgba(34, 197, 159, 0.16);
  --color-header-me-active-bg: rgba(45, 212, 191, 0.22);
  /* Likely unused in dark/me combo if gradient takes over, but good to have */

  --color-slot-transplant-bg: rgba(249, 115, 22, 0.2);
  --color-slot-selected-bg: rgba(239, 68, 68, 0.2);
  --color-slot-valid-bg: rgba(34, 197, 94, 0.2);
  --color-virus-pattern-red: rgba(239, 68, 68, 0.2);
  --gradient-board-me-active-light: rgba(255, 247, 237, 0.9);
  --gradient-board-me-dark: rgba(15, 30, 54, 0.9);
  --gradient-board-me-active-dark: rgba(34, 197, 159, 0.18);

  /* Batch 6: Feed / Empty States */
  --color-slot-empty-bg-gradient: rgba(255, 255, 255, 0.02);
  --color-slot-stripe: rgba(148, 163, 184, 0.1);
  --color-turn-progress-track: rgba(148, 163, 184, 0.2);
  --color-system-message-bg: rgba(255, 255, 255, 0.05);
  --color-feed-overlay-bg: rgba(255, 255, 255, 0.05);
  --gradient-feed-highlight: rgba(255, 255, 255, 0.1);
  --color-border-warning-soft: rgba(249, 115, 22, 0.35);

  /* Final Polish */
  --color-text-on-active: #0f172a;
  /* Keep dark text on active checks/badges if needed */
  --color-shimmer-light: rgba(255, 255, 255, 0.2);
  --border-valid-target: rgba(34, 197, 94, 0.4);
  --border-drag-over: rgba(255, 255, 255, 0.8);
}